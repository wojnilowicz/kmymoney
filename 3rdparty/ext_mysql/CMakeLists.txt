ExternalProject_Add(
  ext_mysql
  ${PROJECT_GLOBAL_PROFILE}
  URL https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-boost-8.0.16.tar.gz
  URL_MD5 6b9b8e7a26789935a491b4d7e53a7145

  CMAKE_ARGS ${CMAKE_GLOBAL_PROFILE}
              -DWITH_BOOST=<SOURCE_DIR>/boost
              -DBUILD_CONFIG=mysql_release
              -DWITH_LZMA=system
              -DWITH_ICU=system
              -DINSTALL_STATIC_LIBRARIES=OFF
#               -DCPACK_MONOLITHIC_INSTALL=1
#               -DIGNORE_AIO_CHECK=1


  BUILD_COMMAND "" # on default whole server would be built
  INSTALL_COMMAND ""
  DEPENDS ext_xz ext_icu ext_openssl #ext_ncurses
)

# build and install client only
ExternalProject_Add_Step(
ext_mysql client
COMMAND ${CMAKE_MAKE_PROGRAM}
COMMAND ${CMAKE_MAKE_PROGRAM} install
DEPENDEES install
WORKING_DIRECTORY <BINARY_DIR>/libmysql
)

ExternalProject_Add_Step(
ext_mysql scripts
COMMAND ${CMAKE_MAKE_PROGRAM}
COMMAND ${CMAKE_MAKE_PROGRAM} install
DEPENDEES client
WORKING_DIRECTORY <BINARY_DIR>/scripts
)

# build and install headers
ExternalProject_Add_Step(
ext_mysql headers
COMMAND ${CMAKE_MAKE_PROGRAM}
COMMAND ${CMAKE_MAKE_PROGRAM} install
DEPENDEES scripts
WORKING_DIRECTORY <BINARY_DIR>/include)